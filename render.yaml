# render.yaml
python:
  version: 3.11.6 # Python version you are using
services:
  - type: web
    name: signal-api
    runtime: python
    repo: https://github.com/arhosting4/fastapi-signal-api # Make sure this is your correct GitHub repo URL
    branch: main
    buildCommand: "pip install -r requirements.txt"
    # Production-ready start command using Gunicorn with Uvicorn workers
    # $PORT is an environment variable provided by Render
    startCommand: "gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app --bind 0.0.0.0:$PORT"
    envVars:
      - key: TELEGRAM_BOT_TOKEN
        sync: false # Keep this false, value will be set in Render dashboard
      - key: TELEGRAM_CHAT_ID
        sync: false # Keep this false, value will be set in Render dashboard
      - key: TWELVE_DATA_API_KEY
        sync: false # Keep this false, value will be set in Render dashboard
    autoDeploy: true
    region: oregon # Choose a region closest to your users or data sources
